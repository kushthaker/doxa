webpackJsonp([1],{NHnr:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("7+uW"),n={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]};var a=t("VU/8")({name:"App"},n,!1,function(e){t("gsu9")},null,null).exports,o=t("/ocq"),i=t("NYxO"),u={data:function(){return{}},computed:Object(i.b)({users:function(e){return e.users}}),beforeMount:function(){this.$store.dispatch("loadUsers")}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e._m(0),e._v(" "),t("section",{staticClass:"section"},[t("div",{staticClass:"container"},e._l(e.users,function(r){return t("div",{key:r.id,staticClass:"card"},[t("div",{staticClass:"card-content"},[r?t("div",[t("p",{staticClass:"title"},[e._v("Name: "+e._s(r.username)+"; Email: "+e._s(r.email))]),e._v(" "),t("p",{staticClass:"detail"},[e._v("See this "),t("router-link",{attrs:{to:"maestro/"+r.id}},[e._v("maestro")])],1)]):e._e()])])}),0)])])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("section",{staticClass:"hero is-primary"},[r("div",{staticClass:"hero-body"},[r("div",{staticClass:"container has-text-centered"},[r("h2",{staticClass:"title"},[this._v("List of users")])])])])}]};var m=t("VU/8")(u,l,!1,function(e){t("h++/")},"data-v-52794a2f",null).exports,c={computed:Object(i.b)({maestro:function(e){return e.userData}}),beforeMount:function(){var e=parseInt(this.$route.params.id);this.$store.dispatch("loadUser",e)}},d={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.maestro?t("div",[t("h3",[e._v("The maestro is "),t("em",[e._v(e._s(e.maestro.username))])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.maestro.username,expression:"maestro.username"}],attrs:{placeholder:"e.g. Callum John Killian Mitchell"},domProps:{value:e.maestro.username},on:{input:function(r){r.target.composing||e.$set(e.maestro,"username",r.target.value)}}}),e._v(" "),t("p",[e._v("The maestro's email is "),t("strong",[e._v(e._s(e.maestro.email))])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.maestro.email,expression:"maestro.email"}],attrs:{placeholder:"e.g. maestro@fulfilled.maestro"},domProps:{value:e.maestro.email},on:{input:function(r){r.target.composing||e.$set(e.maestro,"email",r.target.value)}}})]):t("div",[e._v("\n    No user found.\n  ")])])},staticRenderFns:[]};var p=t("VU/8")(c,d,!1,function(e){t("oUWl")},"data-v-2bb9ef09",null).exports,v={computed:Object(i.b)({newUser:function(e){return e.newUser},formErrors:function(e){return e.formErrors}}),methods:{submitUser:function(){var e=this;this.$store.dispatch("registerNewUser").then(function(){e.formErrors||e.$router.push({name:"Home"})})}},beforeMount:function(){this.$store.dispatch("loadCSRF")}},f={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.formErrors?t("ul",{staticClass:"error-messages"},e._l(e.formErrors,function(r){return t("li",[e._v("\n      "+e._s(r)+"\n    ")])}),0):e._e(),e._v(" "),t("form",{on:{submit:function(r){return r.preventDefault(),e.submitUser(r)}}},[t("p",[e._v("Username: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],attrs:{placeholder:"realdonaldtrump"},domProps:{value:e.newUser.username},on:{input:function(r){r.target.composing||e.$set(e.newUser,"username",r.target.value)}}})]),e._v(" "),t("p",[e._v("Email address: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{placeholder:"maestro@fulfilled.ai"},domProps:{value:e.newUser.email},on:{input:function(r){r.target.composing||e.$set(e.newUser,"email",r.target.value)}}})]),e._v(" "),t("p",[e._v("Password: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{required:"",type:"password"},domProps:{value:e.newUser.password},on:{input:function(r){r.target.composing||e.$set(e.newUser,"password",r.target.value)}}})]),e._v(" "),t("p",[e._v("Confirm password: "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.confirm_password,expression:"newUser.confirm_password"}],attrs:{required:"",type:"password"},domProps:{value:e.newUser.confirm_password},on:{input:function(r){r.target.composing||e.$set(e.newUser,"confirm_password",r.target.value)}}})]),e._v(" "),t("button",[e._v("Register")])])])},staticRenderFns:[]},w=t("VU/8")(v,f,!1,null,null,null).exports,_={data:function(){return{}},computed:Object(i.b)({}),beforeMount:function(){}},h={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("v-form",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{placeholder:"Your email address"},domProps:{value:e.newUser.email},on:{input:function(r){r.target.composing||e.$set(e.newUser,"email",r.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{placeholder:"Password"},domProps:{value:e.newUser.password},on:{input:function(r){r.target.composing||e.$set(e.newUser,"password",r.target.value)}}})])],1)},staticRenderFns:[]},U=t("VU/8")(_,h,!1,null,null,null).exports;s.a.use(o.a);var g=new o.a({routes:[{path:"/",name:"Home",component:m},{path:"/maestro/:id",name:"Maestro",component:p},{path:"/register-new-user",name:"Register",component:w},{path:"/login",name:"Login",component:U}]}),b=t("fZjL"),C=t.n(b),$=t("BO1k"),x=t.n($),E=t("mtWM"),N=t.n(E);function R(){return N.a.get("/api/get_csrf")}var y=t("ppUw"),F=t.n(y);s.a.use(i.a),s.a.use(F.a);var k={users:[],userData:null,newUser:{username:null,email:null,password:null,confirm_password:null,csrf_token:null},formErrors:null},P={loadUsers:function(e){return N.a.get("/api/users").then(function(r){return e.commit("setUsers",{users:r.data})})},loadUser:function(e,r){return(t=r,N.a.get("/api/users/"+t).then(function(e){return e}).catch(function(e){if(404==e.response.status)return{data:null}})).then(function(r){e.commit("setUserData",{userData:r.data})});var t},loadCSRF:function(e){return R().then(function(r){return e.commit("setCSRF",{CSRFToken:r.data.csrf_token})})},registerNewUser:function(e){var r;return(r=k.newUser,N.a.post("/register",r)).then(function(r){var t,s=null,n=r.data;if(n.errors){s=[];var a=!0,o=!1,i=void 0;try{for(var u,l=x()((t=n.errors,C()(t)));!(a=(u=l.next()).done);a=!0){var m=u.value,c=!0,d=!1,p=void 0;try{for(var v,f=x()(n.errors[m]);!(c=(v=f.next()).done);c=!0){var w=v.value;s=s.concat(w)}}catch(e){d=!0,p=e}finally{try{!c&&f.return&&f.return()}finally{if(d)throw p}}}}catch(e){o=!0,i=e}finally{try{!a&&l.return&&l.return()}finally{if(o)throw i}}}R().then(function(r){return e.commit("setCSRF",{CSRFToken:r.data.csrf_token})}),e.commit("setErrors",{errors:s}),e.commit("setNewUser",{newUser:n})})}};var S=new i.a.Store({state:k,actions:P,mutations:{setUsers:function(e,r){e.users=r.users},setUserData:function(e,r){e.userData=r.userData},setCSRF:function(e,r){e.newUser.csrf_token=r.CSRFToken},setErrors:function(e,r){e.formErrors=r.errors},setNewUser:function(e,r){e.newUser=r.newUser}},getters:{}});s.a.config.productionTip=!1,new s.a({el:"#app",router:g,store:S,components:{App:a},template:"<App/>"})},gsu9:function(e,r){},"h++/":function(e,r){},oUWl:function(e,r){}},["NHnr"]);
//# sourceMappingURL=app.3cdc4897a0fa03201d95.js.map